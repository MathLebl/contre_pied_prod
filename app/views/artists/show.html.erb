
<%= stylesheet_link_tag 'show', media: 'all' %>

<div class="transition-fade">
  <div class="artist-page">
      <div class="bg-secondary h-40 w-5/6 z-0 absolute" style="left: 7.5%; bottom: 30%">
      </div>
    <% if @artist.banner == nil %>
      <%= image_tag @artist.banner_image, alt: "alttext" %>
    <% else %>
      <div class="banner z-10 relative mb-16" style="background-image: url('<%= image_path @artist.banner %>');">
    <% end %>
      <div class="container z-10">
        <h1 class="absolute text-white text-3xl font-bold bg-white text-primary px-1 z-10"><%= @artist.name %></h1>
        <% if   @artist.category == "spectacle"%>
          <%= link_to spectacle_artists_path, class: "text-secondary no-underline bg-primary hover:bg-secondary hover:text-primary p-1 font-bold" do %>
            Retour
          <% end %>
        <% elsif @artist.category == "concert"%>
          <%= link_to concert_artists_path, class: "text-secondary no-underline bg-primary hover:bg-secondary hover:text-primary p-1 font-bold" do %>
            Retour
          <% end %>
        <% else %>
          <%= link_to jeune_public_artists_path, class: "text-secondary no-underline bg-primary hover:bg-secondary hover:text-primary p-1 font-bold" do %>
            Retour
          <% end %>
        <% end %>
      </div>
    </div>
    <div class="artist-informations bg-primary grid grid-cols-2 gap-4">
      <div class="col-span-1 flex justify-center items-center">
        <ul class="info-list flex flex-col">
          <% if @artist.distribution? %>
            <li>
              <button class="bg-white text-primary font-bold p-1 m-2 hover:bg-secondary transform duration-200 hover:scale-110" id="distri-btn">Distribution</button>
              <ul class="is-visible">
                <% @artist.distribution.each do |distrib| %>
                  <li><%= distrib %></li>
                <% end %>
              </ul>
            </li>
          <% end %>
          <% if @artist.credits? %>
            <li>
              <button class="bg-white text-primary font-bold p-1 m-2 hover:bg-secondary transform duration-200 hover:scale-110" id="credits-text">Cr√©dit</button>
              <ul class="is-visible">
                <% @artist.credits.each do |credit| %>
                  <li><%= credit %></li>
                <% end %>
              </ul>
            </li>
          <% end %>
          <% if @artist.presse? %>
            <li>
              <button class="bg-white text-primary font-bold p-1 m-2 hover:bg-secondary transform duration-200 hover:scale-110" id="presse-text">Presse</button>
              <ul class="is-visible">
                <% @artist.presse.each do |press| %>
                  <li><%= press %></li>
                <% end %>
              </ul>
            </li>
          <% end %>
          <% if @artist.partenaires? %>
            <li>
              <button class="bg-white text-primary font-bold p-1 m-2 hover:bg-secondary transform duration-200 hover:scale-110" id="part-btn">Partenaires</button>
              <ul class="is-visible">
                <% @artist.partenaires.each do |parten| %>
                  <li><%= parten %></li>
                <% end %>
              </ul>
            </li>
          <% end %>
          <% if @artist.press_file.attached? %>
            <li>
              <%= link_to "Dossier de Presse",@artist.press_file, target: :_blank, class:"download-btn" %>
            </li>
          <% end %>
        </ul>
      </div>
      <div class="description bg-white text-primary p-8 text-sm my-16 mr-40 text-justify col-span-1 relative">
        <p><%= @artist.description %></p>
        <div class="bg-secondary text-2xl font-bold absolute px-4 py-2" style="top: -1.5rem; right: 5rem">Qui est-ce ?</div>
      </div>
    </div>
    <div class="centrale">
      <div class="dice mx-auto my-16">
        <% if @artist.dice1 == nil %>
          <%= image_tag @artist.show_image1, alt: "alttext", class: "photo" %>
        <% else %>
          <%= image_tag @artist.dice1, class: "photo top-left" %>
        <% end %>
        <% if @artist.dice2 == nil %>
          <%= image_tag @artist.show_image2, alt: "alttext", class: "photo" %>
        <% else %>
          <%= image_tag @artist.dice2, class: "photo top-right" %>
        <% end %>
        <iframe width="200" height="133.19" src="<%= @artist.video %>" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
        <% if @artist.dice3 == nil %>
          <%= image_tag @artist.show_image3, alt: "alttext", class: "photo" %>
        <% else %>
          <%= image_tag @artist.dice3, class: "photo botom-left" %>
        <% end %>
        <% if @artist.dice4 == nil %>
          <%= image_tag @artist.show_image4, alt: "alttext", class: "photo" %>
        <% else %>
          <%= image_tag @artist.dice4, class: "photo botom-right" %>
        <% end %>
      </div>
    </div>
    <ul class="social-links">
      <% if @artist.insta != nil %>
        <li><a href="<%= @artist.insta %>"><i class="fab fa-instagram"></i></a></li>
      <% end %>
      <% if @artist.facebook != nil %>
        <li><a href="<%= @artist.facebook %>"><i class="fab fa-facebook"></i></a></li>
      <% end %>
      <% if @artist.twitter != nil %>
        <li><a href="<%= @artist.twitter %>"><i class="fab fa-twitter"></i></a></li>
      <% end %>
      <% if @artist.spotify != nil %>
        <li><a href="<%= @artist.spotify %>"><i class="fab fa-spotify"></i></a></li>
      <% end %>
      <% if @artist.youtube != nil %>
        <li><a href="<%= @artist.youtube %>"><i class="fab fa-youtube"></i></a></li>
      <% end %>
      <% if @artist.soundcloud != nil %>
        <li><a href="<%= @artist.soundcloud %>"><i class="fab fa-soundcloud"></i></a></li>
      <% end %>
      <% if @artist.deezer != nil %>
        <li><a href="<%= @artist.deezer %>"><i class="fas fa-link"></i></a></li>
      <% end %>
    </ul>
    <% if !@events.empty? %>
      <div class="wraper relative">
        <!-- Section Agenda -->
          <div class="table-title p-4 bg-primary inline-block absolute top-0">
            <h2 class="text-3xl font-bold">Agenda</h2>
          </div>
          <table class="table-artist">
            <%= render 'shared/event-table-artist' %>
          </table>
      </div>
    <% end %>
  </div>
</div>
