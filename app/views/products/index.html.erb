<div class="bg-secondary h-40 w-5/6 mx-auto my-20 lg:my-40 md:my-40 relative">
  <div class="flex flex-col h-full justify-center" style="padding-left: 35%;">
      <%= image_tag "shop", alt: "illustration graphique d'une photo de profil", class: "w-3/12 lg:w-1/5 md:w-1/3 absolute m-4 lg:m-24 md:m-0 left-0" %>
      <h1 class="text-xl lg:text-3xl md:text-3xl text-primary font-bold mb-4">Boutique</h1>
      <p class="text-xs lg:text-sm md:text-sm text-primary">Goodies, CD, T-shirts... Craquez pour un produit de votre artiste préféré !</p>
  </div>
</div>

<div class="bg-primary">
  <div class="grid grid-cols-2 gap-20 mx-48 py-8">
    <% @products.each do |product| %>
    <% if product.published_at? %>
    <% if product.stock > 0 %>
      <%= link_to product_path(product), class:"transform hover:scale-105 duration-200" do %>
        <div class="flex bg-white p-4">
          <div class="bg-cover w-1/2 h-56" style="background-image: url('<%= image_path product.photo_url %>')"></div>
          <div class="bg-white text-primary w-1/2 pl-6 flex flex-col justify-between">
            <span class="font-bold text-lg"><%= product.name %></span>
            <span><%= product.description %></span>
            <span class="text-xl font-bold"><%= humanized_money product.price %> <%= currency_symbol %></span>
          </div>
        </div>
    <% end %>
    <% else %>
      <div class="flex bg-white p-4 <%= "inactive" if product.stock == 0 %> transform hover:scale-105 duration-200">
          <div id="shop-img" class="bg-cover w-1/2 h-56 relative" style="background-image: url('<%= image_path product.photo_url %>')"></div>
          <p id="rupture-flag" class="bg-white text-gray-700 px-2 py-1 text-xl font-bold absolute hidden" style="top: 45%; left: 18%">Rupture</p>
          <div class="bg-white text-primary w-1/2 pl-6 flex flex-col justify-between">
            <span class="font-bold text-lg"><%= product.name %></span>
            <span><%= product.description %></span>
            <span class="text-xl font-bold"><%= humanized_money product.price %> <%= currency_symbol %></span>
          </div>
        </div>
    <% end %>
    <% end %>
    <% end %>
  </div>
</div>

<!-- <div class="m-12">
  <div class="grid grid-cols-3 gap-20 mx-48">
    <% @products.each do |product| %>
    <% if product.published_at? %>
    <%= link_to product_path(product), class:"card" do %>
      <%# card %>
      <div class="flex flex-col">
      <%# background image %>
        <div class="bg-cover flex justify-center items-center" style="background-image: url('<%= image_path product.photo_url %>'); height: 23rem"></div>
        <%# card details %>
        <div class="card-body mt-4">
          <h5 class="card-title mb-2 text-gray-900"><%= product.name %></h5>
          <p class="font-light text-gray-600"><%= product.description %></p>
          <p class="mt-2"><%= humanized_money product.price %> <%= currency_symbol %></p>
        </div>
      </div>
    <% end %>
    <% end %>
    <% end %>
  </div>
</div> -->
